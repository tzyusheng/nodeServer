'use strict'
let baseTest = require('./baseTest');
let AipOcr = require("../src/AipOcr");
let fs = require('fs');
// let bitmap = fs.readFileSync('assets/OCR/bankcard.jpg');
// let base64Img = new Buffer(bitmap).toString('base64');

// let base64ImgBankCard = new Buffer(fs.readFileSync('assets/OCR/bankcard.jpg')).toString('base64');
// let base64ImgIdCard = new Buffer(fs.readFileSync('assets/OCR/idcard.png')).toString('base64');
let client = baseTest.createAll(AipOcr);
// let a = new Buffer(fs.readFileSync('/Users/ruanshimin/Downloads/e081cd09-2b57-4337-ad84-4ad5e89d0202.txt'));

// client.bankcard(a).then(function(result) {
//     console.log('<general>: ' + JSON.stringify(result));
// });

// client.form(a).then(function(result) {
//     console.log('<form>: ' + JSON.stringify(result));
// });

// client.accurateBasic(base64Img, {vertexes_location: true, "language_type": 'FRE'}).then(function(result) {
//     console.log('<general>: ' + JSON.stringify(result));
// });

// client.generalUrl("http://img1.ph.126.net/HyXsAWkcAgDzlZbIA1xCMA==/6597567845425383823.jpg", {vertexes_location: true, "language_type": 'FRE'}).then(function(result) {
//     console.log('<generalUrl>: ' + JSON.stringify(result));
// });

// client.generalBasic(base64Img, {vertexes_location: false}).then(function(result) {
//     console.log('<generalBasic>: ' + JSON.stringify(result));
// }, function(e) {
//     console.log(e)
// });


// client.generalBasicUrl("http://img1.ph.126.net/HyXsAWkcAgDzlZbIA1xCMA==/6597567845425383823.jpg", {vertexes_location: false}).then(function(result) {
//     console.log('<generalBasicUrl>: ' + JSON.stringify(result));
// });

// client.accurate(base64Img, {vertexes_location: false}).then(function(result) {
//     console.log('<accurate>: ' + JSON.stringify(result));
// });

// client.accurateBasic(base64Img, {vertexes_location: false}).then(function(result) {
//     console.log('<accurateBasic>: ' + JSON.stringify(result));
// });

// client.bankcard(base64ImgBankCard, {}).then(function(result) {
//     console.log('<bankcard>: ' + JSON.stringify(result));
// });

// client.idcard(base64ImgIdCard, false).then(function(result) {
//     console.log('<idcard>: ' + JSON.stringify(result));
// });

// client.generalEnhance(base64Img).then(function(result) {
//     console.log('<generalEnhanceBasic>: ' + JSON.stringify(result));
// }).catch(function(){

// });

// client.generalEnhanceUrl("http://img1.ph.126.net/HyXsAWkcAgDzlZbIA1xCMA==/6597567845425383823.jpg").then(function(result) {
//     console.log('<generalEnhanceUrl>: ' + JSON.stringify(result));
// }).catch(function(){

// });

// client.webImage(new Buffer(fs.readFileSync('assets/OCR/bankcard.jpg')).toString('base64')).then(function(result) {
//     console.log('<webImage>: ' + JSON.stringify(result));
// }, function (error) {
//     console.log(error);
// });

// client.webImageUrl("http://img1.ph.126.net/HyXsAWkcAgDzlZbIA1xCMA==/6597567845425383823.jpg").then(function(result) {
//     console.log('<webImageUrl>: ' + JSON.stringify(result));
// }, function (error) {
//     console.log(error);
// });

// client.vehicleLicense(base64Img).then(function(result) {
//     console.log('<vehicleLicense>: ' + JSON.stringify(result));
// });

// client.drivingLicense(base64Img).then(function(result) {
//     console.log('<drivingLicense>: ' + JSON.stringify(result));
// });

// client.drivingLicense(base64Img).then(function(result) {
//     console.log('<drivingLicense>: ' + JSON.stringify(result));
// });

// client.licensePlate(new Buffer(fs.readFileSync('assets/OCR/chepai.jpg')).toString('base64')).then(function(result) {
//     console.log('<licensePlate>: ' + JSON.stringify(result));
// }).catch(function(e) {
//     console.log(e)
// });

// let id;
// client.tableRecognize(new Buffer(fs.readFileSync('assets/OCR/table.jpg')).toString('base64')).then(function(result) {
//     id = result.result[0]['request_id'];

//     console.log('<tableBegin>: ' + JSON.stringify(result));
// }).catch(function (e) {
//     console.log(e);
// });

// setTimeout(function(){
//     client.tableResultGet(id, 'json').then(function(result) {
//         console.log('<tableGetresult>: ' + JSON.stringify(result));
//     });
// }, 5000);

// client.tableRecorgnize(new Buffer(fs.readFileSync('assets/OCR/table.jpg')).toString('base64'), {result_type: "excel"}, 300000).then(function(result) {
//     console.log('<tableRecorgnize>: ' + JSON.stringify(result));
// }).catch(function(e){
//     console.log(e)
// });

// client.receipt(new Buffer(fs.readFileSync('assets/OCR/receipt.jpeg')).toString('base64')).then(function(result) {
//     console.log('<receipt>: ' + JSON.stringify(result));
// }, function (error) {
//     console.log(error);
// });

// client.businessLicense(base64Img).then(function(result) {
//     console.log('<businessLicense>: ' + JSON.stringify(result));
// });

client.custom(base64Img, 'Nsdax2424asaAS791823112').then(function (result) {
    console.log('<custom>: ' + JSON.stringify(result));
});





